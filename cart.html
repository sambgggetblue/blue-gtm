<!DOCTYPE html>
<html lang="en">
<head>
    
    <script>
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-N8C9MKXN');
    </script>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-Q6BZGMVELY"></script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carrinho</title>

    <style>
        *{
            font-family: "Montserrat", serif;
        }
        .bg-stone{
            background-color: #27272A;
        }
        .close {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
        }
    </style> 

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

</head>
<body>

    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-N8C9MKXN"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

    <header class="bg-stone p-8 px-12 flex justify-between text-white">
        <h1 class="text-bold text-xl"> <a href="./index.html"> LoremFlix </a></h1>
        <nav class="gap-10 flex">
            <a href="./product.html"> <i class="bi bi-shop mr-2"></i> Planos </a>
            <a href="./cart.html"> <i class="bi bi-cart3 mr-1"></i> Carrinho </a>
        </nav>
    </header>

    <div class="flex justify-center py-12 h-screen">
        <div class="px-6" style="width: 80%;">

            <!-- sem produtos -->
            <div id="no-product" class="hidden">
                <div>
                    <h2 class="text-3xl mb-4 text-red-900"> <i class="bi bi-cart-x"></i> Seu carrinho está vazio! </h2>
    
                    <p class="mb-4">Lorem ipsum dolor sit amet consectetur adipisicing elit. Veniam non culpa, reiciendis deleniti in mollitia quisquam neque dolorem maxime totam eos distinctio eius quam vero tenetur doloremque est sit eum.</p>
                    <p class="mb-4">Lorem, ipsum dolor sit amet consectetur adipisicing elit. At, quam dolorem, deleniti ratione vero rerum est ullam maxime nemo voluptas omnis distinctio explicabo, aspernatur aut cumque esse assumenda earum doloremque nobis cum saepe provident. Minima vero deleniti recusandae alias possimus quaerat incidunt nihil dolorum debitis quibusdam? Incidunt, asperiores! Veritatis, autem.</p>
        
                        <a href="./product.html"> <i class="bi bi-arrow-return-left mr-1"></i> 
                            Voltar a página inicial
                        </a> 
                    </button>
                </div>
            </div>

            <!-- basic -->
            <div id="p1" class="hidden">
                <div class="w-full rounded-2xl p-6 flex" style="background-color: rgb(236, 236, 236);">
                    <img src="https://img.freepik.com/free-vector/flat-design-lattice-pattern_23-2149641494.jpg" class="mx-auto rounded-2xl" width="350px" height="350px">
                    <div class="px-4">
                        <h2 class="font-bold text-3xl"> Lorem Ipsum Basic</h2>
                        <h3 class="font-semibold text-xl my-2"> R$99,90</h3>
                        <p class="text-lg"> Lorem, ipsum dolor sit amet consectetur adipisicing elit. Veritatis alias saepe cum illo harum placeat ad doloribus voluptatum provident facere tempora impedit ea assumenda cumque, consequuntur minus quis. Iste ad vel assumenda labore deleniti debitis similique voluptates quod, placeat eum.</p>                   
                        <div class="flex gap-2 mt-2">
                            <button class="w-22 flex px-8 py-2 bg-green-700 text-white rounded-lg mt-2"
                                onclick="dlPurchase(99.90, 'Lorem Ipsum Basic', '1')"
                            > 
                                    Assinar 
                            </button>
                            <button class="w-22 flex px-8 py-2 bg-red-700 text-white rounded-lg mt-2"
                                onclick="dlRemoveItem()"
                            > 
                                Remover  
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- pro -->
            <div id="p2" class="hidden">
                <div class="w-full rounded-2xl p-6 flex" style="background-color: rgb(236, 236, 236);">
                    <img src="https://img.freepik.com/free-vector/flat-design-monochromatic-pattern_23-2150735296.jpg" class="mx-auto rounded-2xl" width="350px" height="350px">
                    <div class="px-4">
                        <h2 class="font-bold text-3xl"> Lorem Ipsum Pro</h2>
                        <h3 class="font-semibold text-xl my-2"> R$149,90</h3>
                        <p class="text-lg"> Lorem, ipsum dolor sit amet consectetur adipisicing elit. Veritatis alias saepe cum illo harum placeat ad doloribus voluptatum provident facere tempora impedit ea assumenda cumque, consequuntur minus quis. Iste ad vel assumenda labore deleniti debitis similique voluptates quod, placeat eum.</p>                   
                        <div class="flex gap-2 mt-2">
                            <button class="w-22 flex px-8 py-2 bg-green-700 text-white rounded-lg mt-2"
                                onclick="dlPurchase(149.90, 'Lorem Ipsum Pro', '2')"
                            > 
                                    Assinar 
                            </button>
                            <button class="w-22 flex px-8 py-2 bg-red-700 text-white rounded-lg mt-2"
                                onclick="dlRemoveItem()"
                            > 
                                Remover  
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- super pro -->
            <div id="p3" class="hidden">
                <div class="w-full rounded-2xl p-6 flex" style="background-color: rgb(236, 236, 236);">
                    <img src="https://img.freepik.com/free-vector/flat-design-lattice-pattern_23-2149641497.jpg?semt=ais_hybrid" class="mx-auto rounded-2xl" width="350px" height="350px">
                    <div class="px-4">
                        <h2 class="font-bold text-3xl"> Lorem Ipsum Super Pro</h2>
                        <h3 class="font-semibold text-xl my-2"> R$199,90</h3>
                        <p class="text-lg"> Lorem, ipsum dolor sit amet consectetur adipisicing elit. Veritatis alias saepe cum illo harum placeat ad doloribus voluptatum provident facere tempora impedit ea assumenda cumque, consequuntur minus quis. Iste ad vel assumenda labore deleniti debitis similique voluptates quod, placeat eum.</p>                   
                        <div class="flex gap-2 mt-2">
                            <button class="w-22 flex px-8 py-2 bg-green-700 text-white rounded-lg mt-2"
                                onclick="dlPurchase(199.90, 'Lorem Ipsum Super Pro', '3')"
                            > 
                                    Assinar 
                            </button>
                            <button class="w-22 flex px-8 py-2 bg-red-700 text-white rounded-lg mt-2"
                                onclick="dlRemoveItem()"
                            > 
                                Remover  
                            </button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <footer class="bg-stone pt-4 pb-3 px-12 text-center text-sm text-white">
       <p class=""> <span id="year" class="mr-2"></span> || <i class="ml-2 bi bi-person-heart"></i> </span> samuelsbaggio@gmail.com </p>
    </footer>

    <script>

        var product = localStorage.getItem('product');

        const noProductDiv = document.getElementById("no-product");
        const p1Div = document.getElementById("p1");
        const p2Div = document.getElementById("p2");
        const p3Div = document.getElementById("p3");

        if(product == null || product == undefined){
            noProductDiv.style.display = 'flex'
        } else if (product == 'A1'){
            p1Div.style.display = 'flex'
        } else if (product == 'B2'){
            p2Div.style.display = 'flex'
        } else if (product == 'C3'){
            p3Div.style.display = 'flex'
        }

        var randomId = Math.floor(Math.random() * 1000000) + 1;

        window.dataLayer = window.dataLayer || [];
        
        function dlPurchase(price, name, category) {
            window.dataLayer.push({
            event: 'purchase',
            id: randomId,
            pId: product,
            price: price,
            category: category,
            name: name
            });
            window.location.href = './success.html';
            localStorage.removeItem('product');
        }

        function dlRemoveItem(pId){
            window.dataLayer.push({
            event: 'remove_item',
            pId: product,
            });
            window.location.href = './index.html';
            localStorage.removeItem('product');
        }

        document.getElementById("year").textContent = new Date().getFullYear();

    </script>
  

</body>
</html>
